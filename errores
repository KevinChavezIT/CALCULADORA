py -c "
import http.client
import ssl
import json

def test_connectivity():
    hostname_IP = '10.70.152.131'
    
    print('Probando conectividad con CSM...')
    print(f'Destino: {hostname_IP}:443')
    
    try:
        # Test 1: Conexión básica
        connection = http.client.HTTPSConnection(hostname_IP, context=ssl._create_unverified_context(), timeout=10)
        connection.request('GET', '/CSM/web/system/v1/tokens')
        response = connection.getresponse()
        print(f'✓ Conexión HTTP exitosa - Status: {response.status}')
        connection.close()
        
        # Test 2: Autenticación rápida
        connection = http.client.HTTPSConnection(hostname_IP, context=ssl._create_unverified_context(), timeout=10)
        headers = {'Accept-Language': 'en-US', 'Content-Type': 'application/x-www-form-urlencoded'}
        payload = 'username=operador&password=hgpANwHPk5q}g.Y'
        connection.request('POST', '/CSM/web/system/v1/tokens', payload, headers)
        response = connection.getresponse()
        
        if response.status == 200:
            data = response.read().decode()
            json_response = json.loads(data)
            print('✓ Autenticación CSM exitosa')
        else:
            print(f'✗ Error en autenticación - Status: {response.status}')
            
        connection.close()
        
    except Exception as e:
        print(f'✗ Error de conectividad: {e}')

test_connectivity()
"